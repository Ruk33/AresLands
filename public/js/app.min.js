"use strict";angular.module("areslands",["areslands.filters","areslands.services","areslands.directives","areslands.controllers"]).config(["$interpolateProvider",function(e){e.startSymbol("[["),e.endSymbol("]]")}]);
angular.module("configuration",[]).constant("BASE_PATH","http://areslands.ironfist.com");
"use strict";angular.module("areslands.controllers",[]).controller("CharacterStatsController",["$scope","$http","$timeout",function(e,t,n){e.remainingPoints=0,e.stats={stat_life:0,stat_dexterity:0,stat_magic:0,stat_strength:0,stat_luck:0};var r=$("#lifeBar"),i=function(t){var n=100*t/e.maxLife;r.attr("style","width: "+n+"%;")},s=function(){var t,r,o;if(e.currentLife&&e.maxLife){t=Number(e.currentLife),r=Number(e.maxLife),o=Number(e.stats.stat_life);if(!(t<r)){e.currentLife=r,i(e.currentLife);return}t+=.05+o*.01,e.currentLife=t.toFixed(2),i(e.currentLife)}n(s,1e3)};s(),e.addStat=function(n){e.pointsToChange=parseInt(e.pointsToChange),e.stats[n]=parseInt(e.stats[n]),e.remainingPoints-=e.pointsToChange,e.stats[n]+=e.pointsToChange,t({method:"POST",url:e.basePath+"authenticated/addStat",data:{stat_name:n,stat_amount:e.pointsToChange}}).success(function(t){t||(e.remainingPoints+=e.pointsToChange,e.stats[n]-=e.pointsToChange)}).error(function(){e.remainingPoints+=e.pointsToChange,e.stats[n]-=e.pointsToChange})}}]).controller("CharactersController",["$scope","$http",function(e,t){e.predicate="pvp_points",e.reverse=!0,t.post(e.basePath+"authenticated/characters").success(function(t){e.characters=t}).error(function(){e.error="No se pudieron traer los datos del servidor. Por favor, int\u00e9ntalo nuevamente en unos segundos."})}]).controller("Item",["$scope","$http",function(e,t){e.item=[],e.price=[],e.getItemTooltip=function(n){t.get(e.basePath+"api/itemTooltip/"+n).success(function(t){e.item[n]=t+"<p>Precio: "+e.price[n]+"</p>"})},e.onMouseOver=function(t){e.item[t]||(e.item[t]="Cargando...",e.getItemTooltip(t))}}]).controller("Skill",["$scope","$http",function(e,t){e.skill=[],e.getSkillNextLevelToolTip=function(n,r){t.get(e.basePath+"api/skill/"+n+"/"+r).success(function(t){t.description&&(e.skill[n]+="<hr><strong>Siguiente nivel...</strong><p>"+t.description+"</p>",t.requirements_text&&(e.skill[n]+="<strong>Requiere</strong><p>"+t.requirements_text+"</p>"))})},e.getSkillTooltip=function(n,r,i,s){t.get(e.basePath+"api/skill/"+n+"/"+r).success(function(t){e.skill[n]="<strong>"+t.name+"</strong> - Nivel "+r+"<p>"+t.description+"</p>",i&&t.requirements_text&&(e.skill[n]+="<strong>Requiere</strong><p>"+t.requirements_text+"</p>"),s&&e.getSkillNextLevelToolTip(n,r+1)})},e.onMouseOver=function(t,n,r,i){e.skill[t]||(e.skill[t]="Cargando...",e.getSkillTooltip(t,n,r,i))}}]).controller("Chat",["$scope","$http","$timeout",function(e,t,n){e.chat={},e.chat.messages=[],e.chat.connected=[],e.chat.last=[],e.chat.show=!1,e.chat.channel=0;var r=function(){t.get(e.basePath+"chat/connected/"+e.chat.channel).success(function(t){e.chat.connected[e.chat.channel]||(e.chat.connected[e.chat.channel]=[]),e.chat.connected[e.chat.channel]=t}),n(r,3e5)},i=function(){t.get(e.basePath+"chat/messages/"+e.chat.last[e.chat.channel]+"/"+e.chat.channel).success(function(t){if(t.length>0){e.chat.last[e.chat.channel]||(e.chat.last[e.chat.channel]=[]),e.chat.messages[e.chat.channel]||(e.chat.messages[e.chat.channel]=[]),e.chat.last[e.chat.channel]=t[t.length-1].time;for(var n in t)e.chat.messages[e.chat.channel].unshift(t[n])}}),n(i,2e3)};e.sendMessage=function(){t.post(e.basePath+"chat/message",{message:e.chat.input,channel:e.chat.channel}),e.chat.input=""},e.switchChannel=function(t){t!=e.chat.channel&&(e.chat.channel=t,e.chat.messages[t]||(e.chat.messages[t]=[]),t>0?e.chat.messages[t].unshift({name:"AresLands BOT",message:"Cambiaste de canal a: Clan"}):e.chat.messages[t].unshift({name:"AresLands BOT",message:"Cambiaste de canal a: General"}),r())},r(),i()}]).controller("MyCtrl2",[function(){}]);
"use strict";angular.module("areslands.services",[]);
"use strict";angular.module("areslands.filters",[]).filter("interpolate",["version",function(e){return function(t){return String(t).replace(/\%VERSION\%/mg,e)}}]).filter("range",function(){return function(e,t,n){t=parseInt(t),n=parseInt(n);for(var r=t;r<=n;r++)e.push(r);return e}});
"use strict";angular.module("areslands.directives",[]).directive("dynamicTooltip",function(){return function(e,t,n){function i(e){$(t).attr("data-original-title",e).tooltip("fixTitle").tooltip("show")}var r;e.$watch(n.dynamicTooltip,function(e){i(e)}),$(t).tooltip({html:!0})}}).directive("tabs",function(){return{restrict:"E",transclude:!0,scope:{},controller:function(e,t){var n=e.panes=[];e.select=function(e){angular.forEach(n,function(e){e.selected=!1}),e.selected=!0},this.addPane=function(t){n.length==0&&e.select(t),n.push(t)}},template:'<div class="tabbable"><ul class="nav nav-tabs"><li ng-repeat="pane in panes" ng-class="{active:pane.selected}"><a href="" ng-click="select(pane)">{{pane.title}}</a></li></ul><div class="tab-content" ng-transclude></div></div>',replace:!0}}).directive("pane",function(){return{require:"^tabs",restrict:"E",transclude:!0,scope:{title:"@"},link:function(e,t,n,r){r.addPane(e)},template:'<div class="tab-pane" ng-class="{active: selected}" ng-transclude></div>',replace:!0}}).directive("appVersion",["version",function(e){return function(t,n,r){n.text(e)}}]);
