"use strict";angular.module("areslands",["areslands.filters","areslands.services","areslands.directives","areslands.controllers"]).config(["$interpolateProvider",function(e){e.startSymbol("[["),e.endSymbol("]]")}]);
angular.module("configuration",[]).constant("BASE_PATH","/");
"use strict";angular.module("areslands.services",["configuration","ngResource"]).factory("StatPrice",["$resource","BASE_PATH",function(e,t){return e(t+"api/statPrice/:stat")}]).factory("DividedCoin",["$resource","BASE_PATH",function(e,t){return e(t+"api/dividedCoin/:amount")}]).factory("Character",["$resource","BASE_PATH",function(e,t){return e(t+"api/character/:name/:tooltip",{},{tooltip:{method:"GET",params:{tooltip:!0}}})}]).factory("CharacterOfLoggedUser",["$resource","BASE_PATH",function(e,t){return e(t+"api/characterOfLoggedUser")}]).factory("Skill",["$resource","BASE_PATH",function(e,t){return e(t+"api/skill/:id/:level/:tooltip",{},{tooltip:{method:"GET",params:{tooltip:!0}}})}]).factory("Item",["$resource","BASE_PATH",function(e,t){return e(t+"api/item/:id/:price/:tooltip",{},{tooltip:{method:"GET",params:{tooltip:!0}}})}]);
"use strict";angular.module("areslands.controllers",[]).controller("CharacterController",["$scope","$http","$timeout","CharacterOfLoggedUser","DividedCoin","StatPrice","BASE_PATH",function(e,t,n,r,i,s,o){e.character={},e.statsPrices={},e.pointsToChange=1,r.get(function(t){e.character=t}),e.$watch("character.stat_strength",function(t){s.get({stat:"stat_strength"},function(t){console.log(t.price),i.get({amount:t.price},function(t){e.statsPrices.strength="Precio: "+t.text})})}),e.$watch("character.stat_dexterity",function(t){s.get({stat:"stat_dexterity"},function(t){i.get({amount:t.price},function(t){e.statsPrices.dexterity="Precio: "+t.text})})}),e.$watch("character.stat_resistance",function(t){s.get({stat:"stat_resistance"},function(t){i.get({amount:t.price},function(t){e.statsPrices.resistance="Precio: "+t.text})})}),e.$watch("character.stat_magic",function(t){s.get({stat:"stat_magic"},function(t){i.get({amount:t.price},function(t){e.statsPrices.magic="Precio: "+t.text})})}),e.$watch("character.stat_magic_skill",function(t){s.get({stat:"stat_magic_skill"},function(t){i.get({amount:t.price},function(t){e.statsPrices.magic_skill="Precio: "+t.text})})}),e.$watch("character.stat_magic_resistance",function(t){s.get({stat:"stat_magic_resistance"},function(t){i.get({amount:t.price},function(t){e.statsPrices.magic_resistance="Precio: "+t.text})})}),e.addStat=function(n){if(e.character[n]==null)return;e.character[n]=Number(e.character[n]),e.pointsToChange=Number(e.pointsToChange),e.character[n]+=e.pointsToChange,e.character.points_to_change-=e.pointsToChange,t({method:"POST",url:o+"authenticated/addStat",data:{stat_name:n,stat_amount:e.pointsToChange}}).success(function(t){t||(e.character.points_to_change+=e.pointsToChange,e.character[n]-=e.pointsToChange)}).error(function(){e.character.points_to_change+=e.pointsToChange,e.character[n]-=e.pointsToChange})}}]).controller("CharactersController",["$scope","$http",function(e,t){e.predicate="pvp_points",e.reverse=!0,t.post(e.basePath+"authenticated/characters").success(function(t){e.characters=t}).error(function(){e.error="No se pudieron traer los datos del servidor. Por favor, int\u00e9ntalo nuevamente en unos segundos."})}]).controller("Character",["$scope","$http",function(e,t){e.character=[],e.getCharacter=function(n){t.get(e.basePath+"api/character/"+n).success(function(t){e.characters[n]=t})}}]).controller("Item",["$scope","$http",function(e,t){e.item=[],e.price=[],e.getItemTooltip=function(n){t.get(e.basePath+"api/itemTooltip/"+n).success(function(t){e.item[n]=t+"<p>Precio: "+e.price[n]+"</p>"})},e.onMouseOver=function(t){e.item[t]||(e.item[t]="Cargando...",e.getItemTooltip(t))}}]).controller("Skill",["$scope","$http",function(e,t){e.skill=[],e.getSkillNextLevelToolTip=function(n,r){t.get(e.basePath+"api/skill/"+n+"/"+r).success(function(t){t.description&&(e.skill[n]+="<hr><strong>Siguiente nivel...</strong><p>"+t.description+"</p>",t.requirements_text&&(e.skill[n]+="<strong>Requiere</strong><p>"+t.requirements_text+"</p>"))})},e.getSkillTooltip=function(n,r,i,s){t.get(e.basePath+"api/skill/"+n+"/"+r).success(function(t){e.skill[n]="<strong>"+t.name+"</strong> - Nivel "+r+"<p>"+t.description+"</p>",i&&t.requirements_text&&(e.skill[n]+="<strong>Requiere</strong><p>"+t.requirements_text+"</p>"),s&&e.getSkillNextLevelToolTip(n,r+1)})},e.onMouseOver=function(t,n,r,i){e.skill[t]||(e.skill[t]="Cargando...",e.getSkillTooltip(t,n,r,i))}}]).controller("Chat",["$scope","$http","$timeout",function(e,t,n){e.chat={},e.chat.messages=[],e.chat.connected=[],e.chat.last=[],e.chat.show=!1,e.chat.channel=0;var r=function(){t.get(e.basePath+"chat/connected/"+e.chat.channel).success(function(t){e.chat.connected[e.chat.channel]||(e.chat.connected[e.chat.channel]=[]),e.chat.connected[e.chat.channel]=t}),n(r,3e5)},i=function(){t.get(e.basePath+"chat/messages/"+e.chat.last[e.chat.channel]+"/"+e.chat.channel).success(function(t){if(t.length>0){e.chat.last[e.chat.channel]||(e.chat.last[e.chat.channel]=[]),e.chat.messages[e.chat.channel]||(e.chat.messages[e.chat.channel]=[]),e.chat.last[e.chat.channel]=t[t.length-1].time;for(var n in t)e.chat.messages[e.chat.channel].unshift(t[n])}}),n(i,2e3)};e.sendMessage=function(){t.post(e.basePath+"chat/message",{message:e.chat.input,channel:e.chat.channel}),e.chat.input=""},e.switchChannel=function(t){t!=e.chat.channel&&(e.chat.channel=t,e.chat.messages[t]||(e.chat.messages[t]=[]),t>0?e.chat.messages[t].unshift({name:"AresLands BOT",message:"Cambiaste de canal a: Clan"}):e.chat.messages[t].unshift({name:"AresLands BOT",message:"Cambiaste de canal a: General"}),r())},r(),i()}]).controller("MyCtrl2",[function(){}]);
"use strict";angular.module("areslands.filters",[]).filter("interpolate",["version",function(e){return function(t){return String(t).replace(/\%VERSION\%/mg,e)}}]).filter("range",function(){return function(e,t,n){t=parseInt(t),n=parseInt(n);for(var r=t;r<=n;r++)e.push(r);return e}});
"use strict";angular.module("areslands.directives",[]).directive("lifeBar",["$timeout",function(e){return function(t,n,r){var i=$(n),s=function(e,t){var n=100*e/t;i.attr("style","width: "+n+"%;")},o=function(){var t=Number(r.lifeBar.current_life),n=Number(r.lifeBar.max_life);if(!(t<n)){r.lifeBar.current_life=n,s(t,n);return}t+=.06,r.lifeBar.current_life=t.toFixed(2),s(t,n),e(o,1e3)};t.$watch(r.lifeBar,function(e){e.current_life&&e.max_life&&(r.lifeBar=e,o())})}}]).directive("dynamicTooltip",function(){return function(e,t,n){function s(e){$(t).attr("data-original-title",e).tooltip("fixTitle"),i&&$(t).tooltip("show")}var r,i=!1;e.$watch(n.dynamicTooltip,function(e){s(e)}),$(t).on("mouseover",function(){i=!0}),$(t).on("mouseout",function(){i=!1}),$(t).tooltip({html:!0,container:"#wrap"})}}).directive("skillTooltip",["Skill",function(e){return function(t,n,r){var i={};i.element=$(n),i.skill=null;var s=!1,o=function(e){i.element.attr("data-original-title",e).tooltip("fixTitle"),s&&i.element.tooltip("show"),i.element.unbind("mouseenter.skillTooltip").unbind("mouseleave.skillTooltip")},u=function(){s=!0,i.skill||e.tooltip({id:r.skillId,level:r.skillLevel},function(t){i.skill=t.tooltip,r.skillShowNextLevel?e.tooltip({id:r.skillId,level:Number(r.skillLevel)+1},function(e){e.tooltip?o(i.skill+e.tooltip):o(i.skill)}):o(t.tooltip)})},a=function(){s=!1};i.element.bind("mouseenter.skillTooltip",u),i.element.bind("mouseleave.skillTooltip",a),i.element.tooltip({html:!0,title:"Cargando...",container:"#wrap"})}}]).directive("characterTooltip",["Character",function(e){return function(t,n,r){var i={};i.element=$(n),i.character=null;var s=!1,o=function(e){i.element.attr("data-original-title",e).tooltip("fixTitle"),s&&i.element.tooltip("show"),i.element.unbind("mouseenter.characterTooltip").unbind("mouseleave.characterTooltip")},u=function(){s=!0,i.character||e.tooltip({name:r.characterTooltip},function(e){i.character=e.tooltip,o(e.tooltip)})},a=function(){s=!1};i.element.bind("mouseenter.characterTooltip",u),i.element.bind("mouseleave.characterTooltip",a),i.element.tooltip({html:!0,title:"Cargando...",container:"#wrap"})}}]).directive("itemTooltipWithPrice",["Item",function(e){return function(t,n,r){var i={};i.element=$(n),i.item=null;var s=!1,o=function(e){i.element.attr("data-original-title",e).tooltip("fixTitle"),s&&i.element.tooltip("show"),i.element.unbind("mouseenter.itemTooltipWithPrice").unbind("mouseleave.itemTooltipWithPrice")},u=function(){s=!0,i.character||e.tooltip({id:r.itemId,price:r.itemPrice},function(e){i.item=e.tooltip,o(i.item+"<div>Precio:</div>"+e.price_string)})},a=function(){s=!1};i.element.bind("mouseenter.itemTooltipWithPrice",u),i.element.bind("mouseleave.itemTooltipWithPrice",a),i.element.tooltip({html:!0,title:"Cargando...",container:"#wrap"})}}]).directive("tabs",function(){return{restrict:"E",transclude:!0,scope:{},controller:function(e,t){var n=e.panes=[];e.select=function(e){angular.forEach(n,function(e){e.selected=!1}),e.selected=!0},this.addPane=function(t){n.length==0&&e.select(t),n.push(t)}},template:'<div class="tabbable"><ul class="nav nav-tabs"><li ng-repeat="pane in panes" ng-class="{active:pane.selected}"><a href="" ng-click="select(pane)">{{pane.title}}</a></li></ul><div class="tab-content" ng-transclude></div></div>',replace:!0}}).directive("pane",function(){return{require:"^tabs",restrict:"E",transclude:!0,scope:{title:"@"},link:function(e,t,n,r){r.addPane(e)},template:'<div class="tab-pane" ng-class="{active: selected}" ng-transclude></div>',replace:!0}}).directive("appVersion",["version",function(e){return function(t,n,r){n.text(e)}}]);
